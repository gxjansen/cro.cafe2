---
import PhotoGallery from './PhotoGallery.astro';
import EventPhotoSchema from './EventPhotoSchema.astro';

// Event timeline with photos
const eventTimeline = [
  {
    year: '2019',
    title: 'The Beginning',
    description: 'Started recording live at industry events',
    images: [
      {
        src: '/images/events/en/conversion-hotel/604bf8dc80e38107060ac3c1_191123-14h22m50s-IMG_0308-CH19-SO.jpeg',
        alt: 'First live recording at Conversion Hotel 2019',
        event: 'Conversion Hotel 2019'
      },
      {
        src: '/images/events/nl/dutch-cro-awards/604bf7e0b36c35215654aac2_5de150d3d41c9b09d8ba3323_FB_IMG_1570131602666-min.jpeg',
        alt: 'Dutch CRO Awards presentation',
        event: 'Dutch CRO Awards 2019'
      },
      {
        src: '/images/events/shared/emerce-conversion/conversion-gallery-1.jpeg',
        alt: 'Recording at Emerce Conversion',
        event: 'Emerce Conversion 2019'
      }
    ]
  },
  {
    year: '2020',
    title: 'Growing Community',
    description: 'Expanded to more events and virtual formats',
    images: [
      {
        src: '/images/events/nl/marketing-insights-event/mie-gallery-1.jpeg',
        alt: 'Marketing Insights Event recording setup',
        event: 'Marketing Insights Event 2020'
      },
      {
        src: '/images/events/nl/marketing-insights-event/mie-gallery-2.jpeg',
        alt: 'Live audience at MIE',
        event: 'Marketing Insights Event 2020'
      },
      {
        src: '/images/events/nl/marketing-insights-event/mie-gallery-3.jpeg',
        alt: 'Networking and event atmosphere',
        event: 'Marketing Insights Event 2020'
      }
    ]
  },
  {
    year: '2021+',
    title: 'International Expansion',
    description: 'Brought CRO.CAFE to audiences worldwide',
    images: [
      {
        src: '/images/events/en/conversion-hotel-2021/61c502511b2aa3048896b007_Image_6_.jpg',
        alt: 'International gathering at Conversion Hotel',
        event: 'Conversion Hotel 2021'
      },
      {
        src: '/images/events/en/conversion-hotel-2021/61c5025154d0ca45e4ed6f6f_Image_3_.jpg',
        alt: 'Recording session with international guests',
        event: 'Conversion Hotel 2021'
      },
      {
        src: '/images/events/en/conversion-hotel-2021/61c50251a230302487ea213f_Image_4_.jpg',
        alt: 'Community networking',
        event: 'Conversion Hotel 2021'
      }
    ]
  }
];

// Community moments showcase
const communityMoments = [
  {
    src: '/images/events/shared/cro-cafe-unconference/604bf6ef9df9420a1e1a1dba_5d4c7a948620ae48a6372314_IMG-20190731-WA0009_lightbox.jpeg',
    alt: 'Interactive discussion at CRO Cafe Unconference',
    event: 'CRO Cafe Unconference',
    date: '2019'
  },
  {
    src: '/images/events/nl/emerce-engage-reach-touch-retain/engage-gallery-1.jpeg',
    alt: 'Panel discussion at Emerce Engage',
    event: 'Emerce Engage',
    date: '2019'
  },
  {
    src: '/images/events/nl/digital-analytics-congres/dac-gallery-1.jpeg',
    alt: 'Audience engagement at Digital Analytics Congress',
    event: 'Digital Analytics Congress',
    date: '2019'
  },
  {
    src: '/images/events/en/conversion-hotel/604bf8dc80e3811ac20ac318_191122-20h45m22s-IMG_9692-CH19-SO.jpeg',
    alt: 'Live podcast recording with packed audience',
    event: 'Conversion Hotel',
    date: '2019'
  },
  {
    src: '/images/events/nl/marketing-insights-event/mie-gallery-4.jpeg',
    alt: 'Networking after recording session',
    event: 'Marketing Insights Event',
    date: '2020'
  },
  {
    src: '/images/events/en/conversion-hotel-2021/61c50251be592e2f6bbb3a52_Image_8_.jpg',
    alt: 'International CRO community gathering',
    event: 'Conversion Hotel 2021',
    date: '2021'
  }
];
---

<div class="about-event-gallery">
  <EventPhotoSchema 
    images={[...eventTimeline.flatMap(p => p.images), ...communityMoments]}
    eventName="CRO.CAFE Event Gallery"
    eventDescription="Photos from CRO.CAFE live podcast recordings and community events from 2019 to present"
  />
  <!-- Journey Timeline Section -->
  <section class="py-16 bg-gray-50 dark:bg-gray-900" aria-labelledby="journey-heading">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 id="journey-heading" class="text-3xl font-heading font-bold text-gray-900 dark:text-white mb-4 text-center">
        Our Journey Through Events
      </h2>
      <p class="text-lg text-gray-600 dark:text-gray-300 text-center mb-12 max-w-3xl mx-auto">
        From our first live recording to becoming a global CRO community, see how we've grown through the years
      </p>
      
      <div class="space-y-16">
        {eventTimeline.map((period, index) => (
          <div class={`timeline-period ${index % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse'} flex flex-col lg:flex gap-8 items-center`}>
            <div class="lg:w-1/2 text-center lg:text-left">
              <div class="inline-block px-4 py-2 bg-primary-100 dark:bg-primary-900 rounded-full mb-4">
                <span class="text-2xl font-bold text-primary-700 dark:text-primary-300">{period.year}</span>
              </div>
              <h3 class="text-2xl font-semibold text-gray-900 dark:text-white mb-3">{period.title}</h3>
              <p class="text-gray-600 dark:text-gray-400">{period.description}</p>
            </div>
            <div class="lg:w-1/2">
              <PhotoGallery
                images={period.images}
                variant="carousel"
                showOverlay={true}
                className="timeline-gallery"
              />
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Community Moments Section -->
  <section class="py-16" aria-labelledby="community-heading">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 id="community-heading" class="text-3xl font-heading font-bold text-gray-900 dark:text-white mb-4 text-center">
        Community Moments
      </h2>
      <p class="text-lg text-gray-600 dark:text-gray-300 text-center mb-12 max-w-3xl mx-auto">
        Behind every episode is a vibrant community of CRO professionals sharing knowledge and experiences
      </p>
      
      <PhotoGallery
        images={communityMoments}
        variant="carousel"
        showOverlay={true}
        className="community-gallery"
      />
      
      <div class="mt-16 text-center">
        <h3 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">
          Join Us at Future Events
        </h3>
        <p class="text-gray-600 dark:text-gray-400 mb-6 max-w-2xl mx-auto">
          We regularly record live episodes at major CRO and digital marketing events. Follow us on social media to know when we'll be at an event near you!
        </p>
        <div class="flex justify-center">
          <a 
            href="https://linkedin.com/company/crocafe"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
            </svg>
            Follow on LinkedIn
          </a>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  /* Set fixed heights for carousel images like LiveEventsSection */
  .timeline-gallery :global(.photo-carousel__item img),
  .community-gallery :global(.photo-carousel__item img) {
    height: 12rem;
  }
  
  @media (min-width: 640px) {
    .timeline-gallery :global(.photo-carousel__item img),
    .community-gallery :global(.photo-carousel__item img) {
      height: 14rem;
    }
  }
  
  @media (min-width: 1024px) {
    .timeline-gallery :global(.photo-carousel__item img),
    .community-gallery :global(.photo-carousel__item img) {
      height: 16rem;
    }
    
    .timeline-period {
      text-align: center !important;
    }
    
    .timeline-period > div:first-child {
      text-align: center !important;
    }
  }
</style>